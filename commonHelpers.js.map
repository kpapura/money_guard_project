{"version":3,"file":"commonHelpers.js","sources":["../src/redux/currencyRate/operations.js","../src/components/CurrencyRates/CurrenceRate.jsx","../src/axiosConfig/walletApi.js","../src/redux/auth/operations.js","../src/redux/auth/authSlice.js","../src/hooks/useModal.jsx","../src/components/Modal/Modal.jsx","../src/components/Exit/Exit.jsx","../src/components/Header/Header.jsx","../src/components/Layout.jsx","../src/components/App.jsx","../src/redux/transactions/operations.js","../src/redux/transactions/transactionsSlice.js","../src/redux/store.js","../src/index.jsx"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const fetchCurrencyRate = createAsyncThunk('currency/fetchCurrencyRate', async () => {\n  const savedData = localStorage.getItem('currencyRate');\n  const savedTime = localStorage.getItem('lastFetchTime');\n\n  if (savedData && savedTime) {\n    const currentTime = new Date().getTime();\n    const timeDifference = (currentTime - savedTime) / (1000 * 60 * 60);\n\n    if (timeDifference < 1) {\n      return JSON.parse(savedData);\n    }\n  }\n\n  try {\n    const response = await axios.get('https://api.monobank.ua/bank/currency');\n\n    localStorage.setItem('currencyRate', JSON.stringify(response.data));\n    localStorage.setItem('lastFetchTime', new Date().getTime().toString());\n\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при виконанні запиту до Monobank:', error);\n  }\n});","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport s from './CurrenceRate.module.css'\n\nfunction CurrencyRates() {\n  const currencyRate = useSelector(state => state.currency.currencyRate);\n\n  if (!currencyRate) {\n    return <p>Loading...</p>;\n  }\n\n  const usdRate = currencyRate.find(rate => rate.currencyCodeA === 840 && rate.currencyCodeB === 980);\n  const eurRate = currencyRate.find(rate => rate.currencyCodeA === 978 && rate.currencyCodeB === 980);\n\n  return (\n    <div className={s.wrapper}>\n      <table>\n        <thead className={s.title}>\n          <tr>\n            <th>Currency</th>\n            <th>Purchase</th>\n            <th>Sale</th>\n          </tr>\n        </thead>\n        <tbody>\n          {usdRate && (\n            <tr>\n              <td>USD</td>\n              <td>{usdRate.rateBuy}</td>\n              <td>{usdRate.rateSell}</td>\n            </tr>\n          )}\n          {eurRate && (\n            <tr>\n              <td>EUR</td>\n              <td>{eurRate.rateBuy}</td>\n              <td>{eurRate.rateSell}</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default CurrencyRates;","import axios from 'axios';\n\nexport const walletApi = axios.create({\n  baseURL: 'https://wallet.b.goit.study/api/',\n});\n\nexport const setToken = token => {\n  walletApi.defaults.headers.common.Authorization = `Bearer ${token}`;\n};\nexport const removeToken = () => {\n  walletApi.defaults.headers.common.Authorization = ``;\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { walletApi, setToken, removeToken } from '../../axiosConfig/walletApi';\n\nexport const registerThunk = createAsyncThunk(\n  'register',\n  async (credentials, thunkAPI) => {\n    try {\n      const { data } = await walletApi.post('auth/sign-up', credentials);\n      setToken(data.token);\n      console.log(data);\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const loginThunk = createAsyncThunk(\n  'login',\n  async (credentials, thunkAPI) => {\n    try {\n      const { data } = await walletApi.post('auth/sign-in', credentials);\n      setToken(data.token);\n      console.log(data);\n\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const logoutThunk = createAsyncThunk('logout', async (_, thunkAPI) => {\n  try {\n    const { data } = await walletApi.delete('auth/sign-out');\n    console.log(data);\n\n    removeToken();\n\n    return data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});\n\nexport const refreshThunk = createAsyncThunk('refresh', async (_, thunkApi) => {\n  const savedToken = thunkApi.getState().auth.token;\n  if (!savedToken) {\n    return thunkApi.rejectWithValue('Token is not exist!');\n  }\n  try {\n    setToken(savedToken);\n    const { data } = await walletApi.get('users/current');\n    return data;\n  } catch (error) {\n    return thunkApi.rejectWithValue(error.message);\n  }\n});\n","import { createSlice, isAnyOf } from '@reduxjs/toolkit';\nimport {\n  loginThunk,\n  logoutThunk,\n  refreshThunk,\n  registerThunk,\n} from './operations';\n\nconst initialState = {\n  user: {\n    username: '',\n    email: '',\n  },\n  token: null,\n  loading: false,\n  error: false,\n  isLoggedIn: false,\n  isRefresh: false,\n};\n\nconst slice = createSlice({\n  name: 'auth',\n  initialState,\n  selectors: {\n    selectUser: state => state.username,\n    selectIsLoggedIn: state => state.isLoggedIn,\n    selectToken: state => state.isLoggedIn,\n    selectIsRefresh: state => state.isRefresh,\n  },\n  extraReducers: builder => {\n    builder\n      .addCase(logoutThunk.fulfilled, state => {\n        return initialState;\n      })\n      .addCase(refreshThunk.fulfilled, (state, { payload }) => {\n        state.user.username = payload.username;\n        state.user.email = payload.email;\n        state.isLoggedIn = true;\n        state.isRefresh = false;\n      })\n\n      .addMatcher(\n        isAnyOf(registerThunk.fulfilled, loginThunk.fulfilled),\n        (state, { payload }) => {\n          state.user.username = payload.user.username;\n          state.user.email = payload.user.email;\n          state.token = payload.token;\n          state.isLoggedIn = true;\n        }\n      )\n      .addMatcher(\n        isAnyOf(\n          registerThunk.pending,\n          loginThunk.pending,\n          refreshThunk.pending\n        ),\n        state => {\n          state.loading = true;\n          state.error = null;\n          state.isRefresh = true;\n        }\n      )\n      .addMatcher(\n        isAnyOf(\n          registerThunk.rejected,\n          loginThunk.rejected,\n          refreshThunk.rejected\n        ),\n        (state, { payload }) => {\n          state.error = payload;\n          state.loading = false;\n          state.isRefresh = false;\n        }\n      );\n  },\n});\n\nexport const authReducer = slice.reducer;\nexport const { selectIsLoggedIn, selectUser, selectToken, selectIsRefresh } =\n  slice.selectors;\n","import { useState } from 'react'\n\nexport const useModal = () => {\n\tconst [isOpen, setIsOpen] = useState(false)\n\tconst close = () => setIsOpen(false)\n\tconst open = () => setIsOpen(true)\n\tconst toggle = () => setIsOpen(prev => !prev)\n\treturn { isOpen, close, open, toggle }\n}","import React, { useCallback, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal');\n\nconst Modal = ({ closeModal, children }) => {\n  const handleKeyDown = useCallback(\n    e => {\n      if (e.key === 'Escape') {\n        closeModal();\n      }\n    },\n    [closeModal]\n  );\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [closeModal, handleKeyDown]);\n\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      closeModal();\n    }\n  };\n  return ReactDOM.createPortal(\n    <div onClick={handleBackdropClick} className={s.backdrop}>\n      <div className={s.modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n};\n\nexport default Modal;\n","import React from 'react';\n\nimport s from './Exit.module.css';\nimport { useDispatch } from 'react-redux';\nimport { logoutThunk } from '../../redux/auth/operations';\n\nexport const Exit = ({ closeModal }) => {\n  const dispatch = useDispatch();\n  const logout = () => {\n    dispatch(logoutThunk());\n    closeModal();\n  };\n  return (\n    <div>\n      <a href=\"\" className={s.logo}>\n        <svg width=\"16\" height=\"16\">\n          <use href=\"../../img/sprite.svg#icon-logo\"></use>\n        </svg>\n        Money Guard\n      </a>\n      <p>Are you sure you want to log out?</p>\n\n      <button onClick={logout}>Logout</button>\n      <button onClick={closeModal}>Cancel</button>\n    </div>\n  );\n};\n","import React from 'react';\n// import { Link } from 'react-router-dom';\nimport s from './Header.module.css';\nimport { useSelector } from 'react-redux';\nimport { selectUser } from '../../redux/auth/authSlice';\nimport { useModal } from '../../hooks/useModal';\nimport Modal from '../Modal/Modal';\nimport { Exit } from '../Exit/Exit';\n\nexport const Header = () => {\n  const { isOpen, toggle } = useModal();\n  const user = useSelector(selectUser);\n  return (\n    <header className={s.header}>\n      {/* <Link> */}\n      <a href=\"\" className={s.logo}>\n        <svg width=\"16\" height=\"16\">\n          <use href=\"../../img/sprite.svg#icon-logo\"></use>\n        </svg>\n        Money Guard\n      </a>\n\n      {/* </Link> */}\n      <div className={s.wrap}>\n        {' '}\n        <p>{user}User</p>\n        <button className={s.button} onClick={toggle}>\n          {' '}\n          <svg width=\"16\" height=\"16\">\n            <use href=\"../../img/sprite.svg#icon-exit\"></use>\n          </svg>\n        </button>\n      </div>\n      {isOpen && (\n        <Modal closeModal={toggle}>\n          <Exit closeModal={toggle} />\n        </Modal>\n      )}\n    </header>\n  );\n};\n","import React from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { Header } from './Header/Header';\n\nexport const Layout = () => {\n  return (\n    <div>\n      <h1>helo</h1>\n      <Header />\n      <Outlet />\n    </div>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchCurrencyRate } from '../redux/currencyRate/operations';\nimport CurrencyRates from './CurrencyRates/CurrenceRate';\nimport { Layout } from './Layout';\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchCurrencyRate());\n  }, [dispatch]);\n\n  return (\n    <div>\n      <h1>Мій додаток</h1>\n      <CurrencyRates />\n      <Layout />\n    </div>\n  );\n}\n\nexport default App;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { walletApi } from '../../axiosConfig/walletApi';\n\nexport const fetchTransactionsDataThunk = createAsyncThunk(\n  'fetchTransactionsData',\n  async (_, thunkAPI) => {\n    try {\n      const { data } = await walletApi.get('transactions');\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const deleteTransactionThunk = createAsyncThunk(\n  'deleteTransaction',\n  async (id, thunkAPI) => {\n    try {\n      const { data } = await walletApi.delete(`transactions/${id}`);\n      return data.id;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const addTransactionThunk = createAsyncThunk(\n  'addTransaction',\n  async (body, thunkAPI) => {\n    try {\n      const { data } = await walletApi.post('transactions', body);\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const editTransactionThunk = createAsyncThunk(\n  'editTransaction',\n  async (body, thunkAPI) => {\n    try {\n      const { data } = await walletApi.patch(`/transactions/${body.id}`, body);\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const fetchTransactionCategoriesThunk = createAsyncThunk(\n  'fetchTransactionCategories',\n  async (_, thunkAPI) => {\n    try {\n      const { data } = await walletApi.get('transaction-categories');\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const fetchTransactionSummaryControllerThunk = createAsyncThunk(\n  'fetchTransactionSummaryController',\n  async (_, thunkAPI) => {\n    try {\n      const { data } = await walletApi.get('transactions-summary');\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n","import { createSlice, isAnyOf } from '@reduxjs/toolkit';\nimport {\n  addTransactionThunk,\n  deleteTransactionThunk,\n  editTransactionThunk,\n  fetchTransactionCategoriesThunk,\n  fetchTransactionsDataThunk,\n  fetchTransactionSummaryControllerThunk,\n} from './operations';\n\nconst initialState = {\n  transactionsList: [],\n  transactionCategories: [],\n  transactionSummaryController: null,\n  loading: false,\n  error: false,\n};\n\nconst transactionsSlice = createSlice({\n  name: 'transactions',\n  initialState,\n  selectors: {\n    selectTransactions: state => state.transactionsList,\n    selectIsLoading: state => state.loading,\n    selectIsError: state => state.error,\n  },\n  extraReducers: builder => {\n    builder\n      .addCase(fetchTransactionsDataThunk.fulfilled, (state, { payload }) => {\n        state.transactionsList = payload;\n        state.loading = false;\n      })\n      .addCase(deleteTransactionThunk.fulfilled, (state, { payload }) => {\n        state.transactionsList = state.transactionsList.filter(\n          transaction => transaction.id !== payload\n        );\n        state.loading = false;\n      })\n      .addCase(addTransactionThunk.fulfilled, (state, { payload }) => {\n        state.transactionsList.push(payload);\n        state.loading = false;\n      })\n      .addCase(editTransactionThunk.fulfilled, (state, { payload }) => {\n        const transactionIndex = state.transactionsList.findIndex(\n          transaction => transaction.id === payload.id\n        );\n        state.transactionsList.splice(transactionIndex, 1, payload);\n        state.loading = false;\n      })\n      .addCase(\n        fetchTransactionCategoriesThunk.fulfilled,\n        (state, { payload }) => {\n          state.transactionCategories = payload;\n          state.loading = false;\n        }\n      )\n      .addCase(\n        fetchTransactionSummaryControllerThunk.fulfilled,\n        (state, { payload }) => {\n          state.transactionSummaryController = payload;\n          state.loading = false;\n        }\n      )\n      .addMatcher(\n        isAnyOf(\n          fetchTransactionsDataThunk.pending,\n          deleteTransactionThunk.pending,\n          addTransactionThunk.pending,\n          editTransactionThunk.pending,\n          fetchTransactionCategoriesThunk.pending,\n          fetchTransactionSummaryControllerThunk.pending\n        ),\n        (state, { payload }) => {\n          state.loading = true;\n          state.error = null;\n        }\n      )\n      .addMatcher(\n        isAnyOf(\n          fetchTransactionsDataThunk.rejected,\n          deleteTransactionThunk.rejected,\n          addTransactionThunk.rejected,\n          editTransactionThunk.rejected,\n          fetchTransactionCategoriesThunk.rejected,\n          fetchTransactionSummaryControllerThunk.rejected\n        ),\n        (state, { payload }) => {\n          state.error = payload;\n          state.loading = false;\n        }\n      );\n  },\n});\n\nexport const transactionsReducer = transactionsSlice.reducer;\nexport const { selectTransactions, selectIsLoading, selectIsError } =\n  transactionsSlice.selectors;\n","import { configureStore } from '@reduxjs/toolkit';\nimport storage from 'redux-persist/lib/storage';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\n\nimport { authReducer } from './auth/authSlice';\nimport { transactionsReducer } from './transactions/transactionsSlice';\n\nconst persistConfig = {\n  key: 'auth',\n  version: 1,\n  storage,\n  whitelist: ['token'],\n};\n\nconst persistedReducer = persistReducer(persistConfig, authReducer);\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistedReducer,\n    transactions: transactionsReducer,\n  },\n  middleware: getDefaultMiddleware =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }),\n\n  devTools: process.env.NODE_ENV !== 'production',\n});\n\nexport const persistor = persistStore(store);\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import { configureStore } from '@reduxjs/toolkit';\n// import { persistStore, persistReducer } from 'redux-persist';\n// import storage from 'redux-persist/lib/storage'; \n// import currencyReducer from './currencyRate/currencyRateSlice';\n\n// const persistConfig = {\n//   key: 'root',\n//   storage,\n// };\n\n// const persistedReducer = persistReducer(persistConfig, currencyReducer);\n\n// export const store = configureStore({\n//   reducer: {\n//     currency: persistedReducer,\n//   },\n// });\n\n// export const persistor = persistStore(store);","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom/client';\n\nimport App from './components/App';\n\nimport { persistor, store } from './redux/store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { ToastContainer } from 'react-toastify';\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <App />\n        <ToastContainer autoClose={1500} />\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>\n);\n"],"names":["fetchCurrencyRate","createAsyncThunk","savedData","savedTime","response","axios","error","CurrencyRates","currencyRate","useSelector","state","React","usdRate","rate","eurRate","s","walletApi","setToken","token","removeToken","registerThunk","credentials","thunkAPI","data","loginThunk","logoutThunk","_","refreshThunk","thunkApi","savedToken","initialState","slice","createSlice","builder","payload","isAnyOf","authReducer","selectIsLoggedIn","selectUser","selectToken","selectIsRefresh","useModal","isOpen","setIsOpen","useState","prev","modalRoot","Modal","closeModal","children","handleKeyDown","useCallback","e","useEffect","handleBackdropClick","ReactDOM","Exit","dispatch","useDispatch","logout","Header","toggle","user","Layout","Outlet","App","fetchTransactionsDataThunk","deleteTransactionThunk","id","addTransactionThunk","body","editTransactionThunk","fetchTransactionCategoriesThunk","fetchTransactionSummaryControllerThunk","transactionsSlice","transaction","transactionIndex","transactionsReducer","persistConfig","storage","persistedReducer","persistReducer","store","configureStore","getDefaultMiddleware","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","Provider","PersistGate","ToastContainer"],"mappings":"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"}