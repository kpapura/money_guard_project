import{R as e,_ as Ne,r as i,A as Ce,a as xe,u as ae,N as X,o as ve,b as se,c as p,d as re,e as T,f as V,g as y,h as G,i as A,j as Se,k as P,O as Te,l as ke,m as S,S as Ie,D as Re,B as j,n as De,p as $,q as Le,s as J,F as $e,t as Me,P as Oe,v as Be,w as Pe,x as je,y as Ae,z as ce,C as Fe,E as qe,G as We,H as Ve,Q as Ge}from"./assets/vendor-794a36dc.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=a(r);fetch(r.href,c)}})();const ze="_form_jpfz7_1",He={form:ze},K=({register:n,errors:t,name:a,placeholder:s})=>e.createElement("label",null,e.createElement("input",{autoComplete:a,...n(a),type:"text",placeholder:s}),(t==null?void 0:t[a])&&e.createElement("span",null,t[a].message)),Ue=({password:n})=>e.createElement(e.Fragment,null,e.createElement(Ne,{password:n,minLength:6,scoreWordStyle:{display:"none"}})),Y=({register:n,errors:t,name:a,placeholder:s,getValues:r})=>{const[c,l]=i.useState("password"),[u,d]=i.useState("");function w(f){d(f.target.value)}return e.createElement("label",null,e.createElement("input",{autoComplete:a,...n(a,{required:"Password is required",validate:f=>{r("password")}}),type:c,placeholder:s,onChange:w})," ",e.createElement("div",{onClick:()=>{l(c==="password"?"text":"password")}},c==="password"?e.createElement(Ce,null):e.createElement(xe,null)),(t==null?void 0:t[a])&&e.createElement("span",null,t[a].message),a==="passwordConfirmation"&&e.createElement(Ue,{password:u}))},oe=({onDataSubmit:n,formType:t,schema:a})=>{const{register:s,reset:r,handleSubmit:c,formState:{errors:l}}=ae({resolver:ve(a)}),u=d=>{delete d.passwordConfirmation,n(d),console.log(d),r()};return e.createElement("form",{className:He.form,onSubmit:c(u)},t==="register"&&e.createElement(K,{register:s,errors:l,name:"username",placeholder:"Name"}),e.createElement(K,{register:s,errors:l,name:"email",placeholder:"Email"}),e.createElement(Y,{register:s,errors:l,name:"password",placeholder:"Password"}),t==="register"&&e.createElement(e.Fragment,null,e.createElement(Y,{register:s,errors:l,name:"passwordConfirmation",placeholder:"Confirm password"})),t==="login"?e.createElement(e.Fragment,null,e.createElement("button",{type:"submit"},"LOG IN"),e.createElement(X,{to:"/register"},"REGISTER")):e.createElement(e.Fragment,null,e.createElement("button",{type:"submit"},"REGISTER"),e.createElement(X,{to:"/login"},"LOGIN")),e.createElement("button",{hidden:!0}))},h=se.create({baseURL:"https://wallet.b.goit.study/api/"}),z=n=>{h.defaults.headers.common.Authorization=`Bearer ${n}`},Qe=()=>{h.defaults.headers.common.Authorization=""},M=p("register",async(n,t)=>{try{const{data:a}=await h.post("auth/sign-up",n);return z(a.token),a}catch(a){return t.rejectWithValue(a.message)}}),O=p("login",async(n,t)=>{try{const{data:a}=await h.post("auth/sign-in",n);return z(a.token),a}catch(a){return t.rejectWithValue(a.message)}}),le=p("logout",async(n,t)=>{try{const{data:a}=await h.delete("auth/sign-out");return Qe(),a}catch(a){return t.rejectWithValue(a.message)}}),B=p("refresh",async(n,t)=>{const a=t.getState().auth.token;if(!a)return t.rejectWithValue("Token is not exist!");try{z(a);const{data:s}=await h.get("users/current");return s}catch(s){return t.rejectWithValue(s.message)}}),Xe=re({password:T().required().min(6,"Must be more then 6 symbols").max(12,"Must be less then 12 symbols"),email:T().required().email("Email is not valid")}).required(),Je=()=>{const n=V(),t=y(),a=r=>{t(O(r)).unwrap().then(()=>{n("/")}).catch(c=>{console.log(c.message)})},s={email:"tomato9@gmail.com",password:"0000000"};return e.createElement("div",null,e.createElement(oe,{formType:"login",onDataSubmit:a,values:s,schema:Xe}))},Ke="_wrap_1nzyu_1",Ye="_logo_1nzyu_5",Ze="_text_1nzyu_14",F={wrap:Ke,logo:Ye,text:Ze},q={user:{username:"",email:""},token:null,loading:!1,error:!1,isLoggedIn:!1,isRefresh:!1,balance:0},H=G({name:"auth",initialState:q,selectors:{selectUser:n=>n.user,selectIsLoggedIn:n=>n.isLoggedIn,selectToken:n=>n.isLoggedIn,selectIsRefresh:n=>n.isRefresh,selectBalance:n=>n.balance},reducers:{logout:n=>q},extraReducers:n=>{n.addCase(le.fulfilled,t=>q).addCase(B.fulfilled,(t,{payload:a})=>{t.user.username=a.username,t.user.email=a.email,t.balance=a.balance,t.isLoggedIn=!0,t.isRefresh=!1,t.loading=!1}).addMatcher(A(M.fulfilled,O.fulfilled),(t,{payload:a})=>{t.user.username=a.user.username,t.user.email=a.user.email,t.user.password=a.user.password,t.token=a.token,t.isLoggedIn=!0,t.loading=!1}).addMatcher(A(M.pending,O.pending,B.pending),t=>{t.loading=!0,t.error=null,t.isRefresh=!0}).addMatcher(A(M.rejected,O.rejected,B.rejected),(t,{payload:a})=>{t.error=a,t.loading=!1,t.isRefresh=!1})}}),et=H.reducer,{selectIsLoggedIn:Cn,selectUser:tt,selectToken:xn,selectIsRefresh:vn,selectBalance:Sn}=H.selectors,{logout:nt}=H.actions,at=({closeModal:n})=>{const t=V(),a=y(),s=()=>{a(le()),a(nt()),n(),t("/login")};return e.createElement("div",{className:F.wrap},e.createElement("a",{href:"",className:F.logo},e.createElement("svg",{width:"36",height:"36"},e.createElement("use",{href:"../../img/sprite.svg#icon-logo"})),"Money Guard"),e.createElement("p",{className:F.text},"Are you sure you want to log out?"),e.createElement("button",{className:"modalButtonColor",onClick:s},"Logout"),e.createElement("button",{className:"modalButton",onClick:n},"Cancel"))},st="_modalWrapper_4issq_1",rt="_modalContent_4issq_12",ct="_closeButton_4issq_24",W={modalWrapper:st,modalContent:rt,closeButton:ct},ot=document.querySelector("#modal"),ie=({closeModal:n,children:t})=>{const a=i.useCallback(r=>{r.key==="Escape"&&n()},[n]);i.useEffect(()=>(document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}),[n,a]);const s=r=>{r.target===r.currentTarget&&n()};return Se.createPortal(e.createElement("div",{onClick:s,className:W.modalWrapper},e.createElement("div",{className:W.modalContent},e.createElement("button",{className:W.closeButton,onClick:n},e.createElement("svg",{width:"16",height:"16"},e.createElement("use",{href:"../../img/sprite.svg#icon-close"}))),t)),ot)},me=()=>{const[n,t]=i.useState(!1);return{isOpen:n,close:()=>t(!1),open:()=>t(!0),toggle:()=>t(c=>!c)}},lt="_header_1snvw_1",it="_hederContainer_1snvw_9",mt="_logo_1snvw_17",ut="_wrap_1snvw_27",dt="_user_1snvw_32",_t="_button_1snvw_38",Et="_icon_1snvw_52",gt="_heder_1snvw_9",v={header:lt,hederContainer:it,logo:mt,wrap:ut,user:dt,button:_t,icon:Et,heder:gt},ht=()=>{const{isOpen:n,toggle:t}=me(),a=P(tt),s=a.email.indexOf("@"),r=a.email.slice(0,s);return e.createElement("header",{className:v.header},e.createElement("div",{className:v.hederContainer},e.createElement("a",{href:"",className:v.logo},e.createElement("svg",{width:"24",height:"23"},e.createElement("use",{href:"../../img/sprite.svg#icon-logo"})),"Money Guard"),e.createElement("div",{className:v.wrap}," ",e.createElement("p",{className:v.user},r),e.createElement("button",{className:v.button,onClick:t},e.createElement("svg",{width:"18",height:"18",className:v.icon},e.createElement("use",{href:"../../img/sprite.svg#icon-exit"}))," ","Exit")),n&&e.createElement(ie,{closeModal:t},e.createElement(at,{closeModal:t}))))},pt=()=>e.createElement(e.Fragment,null,e.createElement(ht,null),e.createElement(Te,null)),ft=re({username:T().required(),password:T().required().min(6,"Must be more then 6 symbols").max(12,"Must be less then 12 symbols"),email:T().required().email("Email is not valid"),passwordConfirmation:T().oneOf([ke("password"),null],"Passwords must match")}).required(),bt=()=>{const n=y(),t=V(),a=s=>{n(M(s)),t("/login")};return e.createElement("div",null,e.createElement(oe,{onDataSubmit:a,formType:"register",schema:ft}))},U=p("fetchTransactionsData",async(n,t)=>{try{const{data:a}=await h.get("transactions");return a}catch(a){return t.rejectWithValue(a.message)}}),ue=p("deleteTransaction",async(n,t)=>{try{return await h.delete(`transactions/${n}`),n}catch(a){return t.rejectWithValue(a.message)}}),de=p("addTransaction",async(n,t)=>{try{const{data:a}=await h.post("transactions",n);return a}catch(a){return t.rejectWithValue(a.message)}}),_e=p("editTransaction",async(n,t)=>{try{const{data:a}=await h.patch(`/transactions/${n.id}`,n.content);return a}catch(a){return t.rejectWithValue(a.message)}}),Q=p("fetchTransactionCategories",async(n,t)=>{try{const{data:a}=await h.get("transaction-categories");return a}catch(a){return t.rejectWithValue(a.message)}});p("fetchTransactionSummaryController",async(n,t)=>{try{const{data:a}=await h.get("transactions-summary");return a}catch(a){return t.rejectWithValue(a.message)}});const yt={transactionsList:[],transactionCategories:[],transactionSummaryController:null,loading:!1,error:!1},Ee=G({name:"transactions",initialState:yt,selectors:{selectTransactions:n=>n.transactionsList,selectIsLoading:n=>n.loading,selectIsError:n=>n.error,selectTransactionCategories:n=>n.transactionCategories},extraReducers:n=>{n.addCase(U.fulfilled,(t,{payload:a})=>{t.transactionsList=a,t.loading=!1}).addCase(ue.fulfilled,(t,{payload:a})=>{t.transactionsList=t.transactionsList.filter(s=>s.id!==a),t.loading=!1}).addCase(de.fulfilled,(t,{payload:a})=>{t.transactionsList.push(a),t.loading=!1}).addCase(_e.fulfilled,(t,{payload:a})=>{const s=t.transactionsList.findIndex(r=>r.id===a.id);t.transactionsList.splice(s,1,a),t.loading=!1}).addCase(Q.fulfilled,(t,{payload:a})=>{t.transactionCategories=a,t.loading=!1})}}),wt=Ee.reducer,{selectTransactions:Nt,selectIsLoading:Tn,selectIsError:kn,selectTransactionCategories:ge}=Ee.selectors,Ct="_transaction_item_2loug_1",xt="_income_border_2loug_6",vt="_expense_border_2loug_10",St="_income_text_2loug_14",Tt="_expense_text_2loug_19",kt="_transactions_table_mobile_2loug_24",It="_transaction_colum_2loug_30",Rt="_transaction_first_column_2loug_34",Dt="_transaction_row_mobile_2loug_38",Lt="_transaction_row_2loug_38",$t="_transactions_table_2loug_24",Mt="_btn_delete_2loug_61",Ot="_btn_edit_2loug_76",Bt="_btn_wrapper_2loug_86",Pt="_icon_edit_2loug_93",o={transaction_item:Ct,income_border:xt,expense_border:vt,income_text:St,expense_text:Tt,transactions_table_mobile:kt,transaction_colum:It,transaction_first_column:Rt,transaction_row_mobile:Dt,transaction_row:Lt,transactions_table:$t,btn_delete:Mt,btn_edit:Ot,btn_wrapper:Bt,icon_edit:Pt},he="/money_guard_project/assets/sprite-d3dedbbb.svg",pe=()=>{const n=S.useMediaQuery({query:"(min-width: 768px)"}),t=S.useMediaQuery({query:"(min-width: 1280px)"}),a=S.useMediaQuery({query:"(max-width: 768px)"}),s=S.useMediaQuery({query:"(max-width: 767px)"}),r=S.useMediaQuery({query:"(orientation: portrait)"}),c=S.useMediaQuery({query:"(min-resolution: 2dppx)"});return{isBigScreenOrTablet:n,isBigScreen:t,isMobile:s,isTabletOrMobile:a,isPortrait:r,isRetina:c}},Z=({transaction:n,handleEditItem:t})=>{const{id:a,transactionDate:s,type:r,categoryId:c,comment:l,amount:u}=n,{isBigScreenOrTablet:d,isMobile:w}=pe(),f=y(),m=P(ge);function b(I){const L=m.find(R=>R.id===I);return L?L.name:"Unknown Category"}const N=I=>{f(ue(I))},D=r.toLowerCase()==="income"?"+":"-",x=r.toLowerCase()==="income"?o.income_border:o.expense_border,k=r.toLowerCase()==="income"?o.income_text:o.expense_text;return e.createElement(e.Fragment,null,w&&e.createElement("li",{key:a,className:`${o.transaction_item} ${x}`},e.createElement("table",{className:o.transactions_table_mobile},e.createElement("tbody",null,e.createElement("tr",{className:o.transaction_row_mobile},e.createElement("td",{className:o.transaction_first_column},"Date"),e.createElement("td",null,s)),e.createElement("tr",{className:o.transaction_row_mobile},e.createElement("td",{className:o.transaction_first_column},"Type"),e.createElement("td",null,D)),e.createElement("tr",{className:o.transaction_row_mobile},e.createElement("td",{className:o.transaction_first_column},"Category"),e.createElement("td",null,b(c))),e.createElement("tr",{className:o.transaction_row_mobile},e.createElement("td",{className:o.transaction_first_column},"Comment"),e.createElement("td",null,l)),e.createElement("tr",{className:o.transaction_row_mobile},e.createElement("td",{className:o.transaction_first_column},"Sum"),e.createElement("td",{className:k},u)),e.createElement("tr",{className:o.transaction_row_mobile},e.createElement("td",null,e.createElement("button",{className:o.btn_delete,onClick:()=>N(a)},"Delete")),e.createElement("td",null,e.createElement("button",{onClick:()=>t({categoryId:c,type:r,amount:u,comment:l,transactionDate:s},a),className:o.btn_edit}," ",e.createElement("svg",{className:o.icon_edit},e.createElement("use",{xlinkHref:`${he}#icon-edit`}))," ","Edit")))))),d&&e.createElement("tr",{className:o.transaction_row},e.createElement("td",{className:o.transaction_colum},s),e.createElement("td",{className:o.transaction_colum,style:{textAlign:"center"}},D),e.createElement("td",{className:o.transaction_colum},b(c)),e.createElement("td",{className:o.transaction_colum},l),e.createElement("td",{className:`${o.transaction_colum} ${k}`,style:{textAlign:"right"}},u),e.createElement("td",{className:o.transaction_colum}," ",e.createElement("div",{className:o.btn_wrapper},e.createElement("button",{onClick:()=>t({categoryId:c,type:r,amount:u,comment:l,transactionDate:s},a),className:o.btn_edit},"Edit"),e.createElement("button",{className:o.btn_delete,onClick:()=>N(a)},"Delete")))))},jt="_transactions_section_mjcgn_1",At="_transactions_container_mjcgn_34",Ft="_transactions_table_mjcgn_75",qt="_transactions_list_mjcgn_82",Wt="_transaction_row_head_mjcgn_88",Vt="_btn_add_mjcgn_111",Gt="_icon_plus_mjcgn_126",zt="_empty_transactions_mjcgn_132",g={transactions_section:jt,transactions_container:At,transactions_table:Ft,transactions_list:qt,transaction_row_head:Wt,btn_add:Vt,icon_plus:Gt,empty_transactions:zt},Ht="_labelExpense_1gb48_13",Ut="_labelIncome_1gb48_19",Qt="_slider_1gb48_26",Xt="_round_1gb48_73",C={switch:"_switch_1gb48_1",labelExpense:Ht,labelIncome:Ut,slider:Qt,round:Xt,"transaction-switcher":"_transaction-switcher_1gb48_80"},Jt=({onChange:n})=>{const[t,a]=i.useState(!1),s=()=>{a(!t),n(!t)};return e.createElement("div",{className:C["transaction-switcher"]},e.createElement("span",{className:C.labelIncome},"Income"),e.createElement("label",{className:`${C.switch} ${t?C.income:C.expense}`},e.createElement("input",{type:"checkbox",onChange:s,checked:!t}),e.createElement("span",{className:`${C.slider} ${C.round}`})),e.createElement("span",{className:C.labelExpense},"Expense"))},Kt="_formWrapper_1kidh_1",Yt="_header_1kidh_10",Zt="_checkBox_1kidh_16",en="_boxDate_1kidh_27",tn="_incomeInput_1kidh_35",nn="_customInput_1kidh_36",an="_comment_1kidh_53",sn="_selectExpense_1kidh_54",rn="_btnBox_1kidh_72",cn="_btn_1kidh_72",on="_activeIncome_1kidh_101",ln="_activeExpense_1kidh_104",mn="_inputContainer_1kidh_108",E={formWrapper:Kt,header:Yt,checkBox:Zt,boxDate:en,incomeInput:tn,customInput:nn,comment:an,selectExpense:sn,btnBox:rn,btn:cn,activeIncome:on,activeExpense:ln,inputContainer:mn},ee=n=>n<10?"0"+n:n,te=n=>{const t=n.getFullYear(),a=ee(n.getMonth()+1),s=ee(n.getDate());return`${t}-${a}-${s}`},ne=({name:n,register:t,errors:a,placeholder:s,className:r})=>e.createElement("div",{className:E.inputContainer},e.createElement("input",{className:r,...t(n),placeholder:s}),a[n]&&e.createElement("span",null,a[n].message));function fe({content:n,categories:t,toggle:a,typeForm:s,onDataSubmit:r}){const{register:c,handleSubmit:l,formState:{errors:u},setValue:d}=ae(),[w,f]=i.useState(""),[m,b]=i.useState(""),[N,D]=i.useState(new Date);i.useEffect(()=>{b(n?n.type:"EXPENSE")},[n]),i.useEffect(()=>{d("amount",n&&n.amount)},[n,d]),i.useEffect(()=>{d("comment",n&&n.comment)},[n,d]);const x=i.useMemo(()=>t.map(({id:_,name:we})=>({value:_,label:we})),[t]),k=i.useMemo(()=>x.find(_=>(n==null?void 0:n.categoryId)===_.value),[n,x]),I=_=>{f(_)},L=_=>{r(s==="add"?{transactionDate:te(N),amount:+_.amount,comment:_.comment,type:m,categoryId:m==="EXPENSE"?w.value||x[0].value:"063f1132-ba5d-42b4-951d-44011ca46262"}:{transactionDate:te(N),amount:+_.amount,comment:_.comment})},R=_=>{b(_?"INCOME":"EXPENSE")};return e.createElement("div",null,e.createElement("form",{className:E.formWrapper,onSubmit:l(L)},e.createElement("h1",{className:E.header},s==="add"?"Add transaction":"Edit transaction"),s==="add"?e.createElement(Jt,{onChange:R}):e.createElement("div",null,e.createElement("ul",{className:E.checkBox},e.createElement("li",{onClick:()=>{s==="edit"&&m==="EXPENSE"||R(!0)},className:n.type==="INCOME"||m==="INCOME"?E.activeIncome:"",disabled:s==="edit"&&m==="EXPENSE"}," ","Income"),e.createElement("span",null,"/"),e.createElement("li",{onClick:()=>{s==="edit"&&m==="INCOME"||R(!1)},className:m==="EXPENSE"?E.activeExpense:"",disabled:s==="edit"&&m==="INCOME"}," ","Expense"," "))),e.createElement("div",null,m==="EXPENSE"&&e.createElement("div",{className:E.inputContainer},e.createElement(Ie,{name:"category",options:x,defaultValue:k||x[0],onChange:I,isDisabled:s==="edit"}),u.category&&e.createElement("span",null,u.category.message)),e.createElement("div",{className:E.boxDate},e.createElement(ne,{className:E.incomeInput,name:"amount",placeholder:"0.00",errors:u,register:c}),e.createElement("div",{className:E.inputContainer},e.createElement(Re,{className:E.customInput,selected:n?n.transactionDate:N,onChange:_=>{d("transactionDate",_),D(_)}}),u.transactionDate&&e.createElement("span",null,u.transactionDate.message))),e.createElement(ne,{className:E.comment,name:"comment",placeholder:"Comment",errors:u,register:c}),e.createElement("div",{className:E.btnBox},e.createElement("button",{className:E.btn},s==="add"?"ADD":"EDIT"),e.createElement("button",{type:"button",onClick:a,className:E.btn},"CANCEL")))))}function un({categories:n,editContent:t,toggle:a}){const s=y(),r=c=>{s(_e({content:{...c},id:t.id})).unwrap().then(l=>{j.success("Changed!"),a()}).catch(l=>{j.error("Credentials is not valid!")})};return e.createElement(fe,{toggle:a,content:t.content,categories:n,onDataSubmit:r,typeForm:"edit"})}function dn({categories:n,toggle:t}){const a=y(),s=r=>{a(de(r)).unwrap().then(()=>{j.success("Transaction was successfully added"),t()}).catch(c=>{j.error("Credentials is not valid!")})};return e.createElement(fe,{categories:n,onDataSubmit:s,toggle:t,typeForm:"add"})}const _n=()=>{const{isOpen:n,toggle:t}=me(),[a,s]=i.useState(""),r=y();i.useEffect(()=>{r(U())},[r]),i.useEffect(()=>{r(Q())},[r]);const c=P(Nt),l=P(ge),{isBigScreenOrTablet:u,isMobile:d}=pe(),w=(m,b,N)=>{t(),s({content:m,id:b,name:N})},f=()=>{t(),s(null)};return e.createElement("section",{className:g.transactions_section},e.createElement("div",{className:g.transactions_container},d&&e.createElement("ul",{className:g.transactions_list},c.length>0?c.map(m=>e.createElement(Z,{handleEditItem:w,key:m.id,transaction:m})):e.createElement("div",{className:g.empty_transactions},"No transactions")),u&&e.createElement(e.Fragment,null,c.length>0?e.createElement("table",{className:g.transactions_table},e.createElement("thead",null,e.createElement("tr",{className:g.transaction_row_head},e.createElement("th",null,"Date"),e.createElement("th",{style:{textAlign:"center"}},"Type"),e.createElement("th",null,"Category"),e.createElement("th",null,"Comment"),e.createElement("th",{style:{textAlign:"right"}},"Sum"),e.createElement("th",null))),e.createElement("tbody",{className:g.table_body},c.map(m=>e.createElement(Z,{handleEditItem:w,key:m.id,transaction:m})))):e.createElement(e.Fragment,null,e.createElement("table",{className:g.transactions_table},e.createElement("thead",null,e.createElement("tr",{className:g.transaction_row_head},e.createElement("th",null,"Date"),e.createElement("th",{style:{textAlign:"center"}},"Type"),e.createElement("th",null,"Category"),e.createElement("th",null,"Comment"),e.createElement("th",{style:{textAlign:"right"}},"Sum"),e.createElement("th",null)))),e.createElement("div",{className:g.empty_transactions},"No transactions"))),e.createElement("button",{onClick:()=>f(),className:g.btn_add}," ",e.createElement("svg",{className:g.icon_plus},e.createElement("use",{xlinkHref:`${he}#icon-plus`})))),n&&e.createElement(ie,{closeModal:t},a?e.createElement(un,{editContent:a,categories:l,toggle:t}):e.createElement(dn,{categories:l,toggle:t})))},En=()=>{const n=y();return i.useEffect(()=>{n(U())},[n]),i.useEffect(()=>{n(Q())},[n]),e.createElement(_n,null)};function gn(){const n=y();return i.useEffect(()=>{n(B())},[n]),e.createElement("div",null,e.createElement("h1",null,"Hello"),e.createElement(De,null,e.createElement($,{path:"/",element:e.createElement(pt,null)},e.createElement($,{path:"login",element:e.createElement(Je,null)}),e.createElement($,{path:"register",element:e.createElement(bt,null)}),e.createElement($,{path:"home",element:e.createElement(En,null)}))))}const hn=p("currency/fetchCurrencyRate",async()=>{const n=localStorage.getItem("currencyRate"),t=localStorage.getItem("lastFetchTime");if(n&&t&&(new Date().getTime()-t)/(1e3*60*60)<1)return JSON.parse(n);try{const a=await se.get("https://api.monobank.ua/bank/currency");return localStorage.setItem("currencyRate",JSON.stringify(a.data)),localStorage.setItem("lastFetchTime",new Date().getTime().toString()),a.data}catch(a){console.error("Помилка при виконанні запиту до Monobank:",a)}}),pn={usdRate:null,eurRate:null,lastFetchTime:null},be=G({name:"currency",initialState:pn,selectors:{selectUsdRate:n=>n.usdRate,selectEurRate:n=>n.eurRate,selectLastFetchTime:n=>n.lastFetchTime},extraReducers:n=>{n.addCase(hn.fulfilled,(t,{payload:a})=>{t.usdRate=a.find(s=>s.currencyCodeA===840&&s.currencyCodeB===980),t.eurRate=a.find(s=>s.currencyCodeA===978&&s.currencyCodeB===980),t.lastFetchTime=new Date().getTime().toString()})}}),fn=be.reducer;be.selectors;const bn={key:"auth",version:1,storage:ce,whitelist:["token"]},yn={key:"root",storage:ce},ye=Le({reducer:{auth:J(bn,et),transactions:wt,currency:J(yn,fn)},middleware:n=>n({serializableCheck:{ignoredActions:[$e,Me,Oe,Be,Pe,je]}}),devTools:!1}),wn=Ae(ye);Fe.createRoot(document.getElementById("root")).render(e.createElement(qe,null,e.createElement(We,{store:ye},e.createElement(Ve,{loading:null,persistor:wn},e.createElement(gn,null),e.createElement(Ge,{autoClose:1500})))));
//# sourceMappingURL=commonHelpers.js.map
