import{r as b,R as e,S as x,K as S,e as f,u as m}from"./vendor-b754cceb.js";import{k as y,m as M,n as R,o as H,p as T,q,t as v}from"../commonHelpers.js";const Y="_selectContainers_1dylf_2",P="_select_1dylf_2",D="_option_1dylf_21",$={selectContainers:Y,select:P,option:D};const k=({onMonthChange:t,onYearChange:n})=>{const i=new Date,o=i.getFullYear(),[s,r]=b.useState(i.getMonth()+1),[p,h]=b.useState(o),C=a=>{r(a.value),t(a.value)},g=a=>{h(a.value),n(a.value)},E=Array.from({length:o-2019},(a,N)=>o-N).reverse(),_=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],c=E.map(a=>({value:a,label:a}));return e.createElement("div",{className:$.selectContainers},e.createElement(x,{className:"react_select_container_special",classNamePrefix:"react_select",value:_.find(a=>a.value===s),options:_,onChange:C}),e.createElement(x,{className:"react_select_container",classNamePrefix:"react_select",value:c.find(a=>a.value===p),options:c,onChange:g}))},w="_statisticsContainer_19qii_1",A="_title_19qii_28",W="_tableContainer_19qii_34",B="_contentContainer_19qii_71",u={statisticsContainer:w,title:A,tableContainer:W,contentContainer:B},F="_tableParagraphContainer_15bop_1",I="_table_15bop_1",J="_tableHeader_15bop_25",K="_tableCellBox_15bop_40",O="_tableCell_15bop_40",j="_tableHeadCell_15bop_55",z="_tableHeadCellRight_15bop_62",G="_tableCellRight_15bop_69",Q="_tableRow_15bop_78",U="_paragraphContainer_15bop_87",V="_paragraph_15bop_87",X="_income_15bop_108",Z="_expense_15bop_111",L="_tableContainer_15bop_115",l={tableParagraphContainer:F,table:I,tableHeader:J,tableCellBox:K,tableCell:O,tableHeadCell:j,tableHeadCellRight:z,tableCellRight:G,tableRow:Q,paragraphContainer:U,paragraph:V,income:X,expense:Z,tableContainer:L},ee=({transactionsSummary:t,colors:n,incomeSummary:i,expenseSummary:o})=>e.createElement("div",{className:l.tableParagraphContainer},e.createElement("div",{className:l.tableContainer},e.createElement("table",{className:l.table},e.createElement("thead",null,e.createElement("tr",{className:l.tableHeader},e.createElement("th",{style:{textAlign:"left"},className:l.tableCellHead},"Category"),e.createElement("th",{style:{textAlign:"right"},className:l.tableCellHead},"Sum"))),e.createElement("tbody",null,t.map((s,r)=>e.createElement("tr",{key:r,className:l.tableRow},e.createElement("td",{className:l.tableCell},e.createElement("div",{style:{display:"flex",alignItems:"center"}},e.createElement("div",{className:l.colorSquare,style:{marginRight:"16px",width:"24px",height:"24px",backgroundColor:n[s.name]}}),s.name)),e.createElement("td",{style:{textAlign:"right"},className:l.tableCell},s.total.toString().replace("-",""))))))),e.createElement("div",{className:l.paragraphContainer},e.createElement("p",{className:l.paragraph},"Income:",e.createElement("span",{className:l.income},i)),e.createElement("p",{className:l.paragraph},"Expenses:",e.createElement("span",{className:l.expense},o.toString().replace("-",""))))),te="_chartWrapper_1c9qh_1",ae="_doughnut_1c9qh_8",le="_chartContainer_1c9qh_15",ne="_periodText_1c9qh_20",d={chartWrapper:te,doughnut:ae,chartContainer:le,periodText:ne},re=({transactions:t,colors:n,period:i})=>{if(!t||!n)return e.createElement("div",null,"No data available");const o=i.toFixed(2),s={datasets:[{data:t==null?void 0:t.map(r=>r.total),backgroundColor:t==null?void 0:t.map(r=>n[r.name]),hoverBackgroundColor:t==null?void 0:t.map(r=>n[r.name]),cutout:"75%",borderWidth:0,hoverOffset:1}]};return e.createElement("div",{className:d.chartContainer},e.createElement("div",{className:d.chartWrapper},e.createElement(S,{data:s,className:d.doughnut}),e.createElement("p",{className:d.periodText}," â‚´ ",o)))},ce=()=>{const t=f(),n=m(y),i=m(M),o=m(R),s=m(H),r=m(T),p=m(q),[h,C]=b.useState({});b.useEffect(()=>{t(v({month:r,year:p}))},[r,p,t]);const g=()=>{const c={};n==null||n.forEach(({name:a,index:N})=>{c[a]=`#${Math.floor(Math.random()*16777215).toString(16)}`}),C(c)};b.useEffect(()=>{g()},[n]);const E=c=>{t(v({month:c,year:p}))},_=c=>{t(v({month:r,year:c}))};return e.createElement("section",{className:u.statisticsContainer},e.createElement("h2",{className:u.title},"Statistics"),e.createElement("div",{className:u.contentContainer},e.createElement(re,{transactions:n,period:s,colors:h}),e.createElement("div",{className:u.tableContainer},e.createElement(k,{onMonthChange:E,onYearChange:_}),e.createElement(ee,{transactionsSummary:n,colors:h,incomeSummary:i,expenseSummary:o}))))};export{ce as default};
//# sourceMappingURL=StatisticsTab-2f88a2f0.js.map
