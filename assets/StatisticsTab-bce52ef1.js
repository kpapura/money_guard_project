import{k as e,T as S,r as p,S as N,l as k,o as h}from"./vendor-32dc92c3.js";import{i as f,j as y,k as w,m as R,n as D,o as M,p as v}from"../commonHelpers2.js";const T="_tableParagraphContainer_kw8me_1",H="_tableContainer_kw8me_26",F="_table_kw8me_1",Y="_tableHeader_kw8me_58",P="_tableCellBox_kw8me_73",$="_tableCell_kw8me_73",A="_tableHeadCell_kw8me_88",W="_tableHeadCellRight_kw8me_95",q="_tableCellRight_kw8me_102",B="_tableRow_kw8me_111",I="_paragraphContainer_kw8me_120",J="_paragraph_kw8me_120",U="_income_kw8me_141",L="_expense_kw8me_144",l={tableParagraphContainer:T,tableContainer:H,table:F,tableHeader:Y,tableCellBox:P,tableCell:$,tableHeadCell:A,tableHeadCellRight:W,tableCellRight:q,tableRow:B,paragraphContainer:I,paragraph:J,income:U,expense:L},j=({transactionsSummary:t,colors:n,incomeSummary:m,expenseSummary:o})=>{const i=m.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}),r=o.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2});return e.createElement("div",{className:l.tableParagraphContainer},e.createElement("div",{className:l.tableContainer},e.createElement("table",{className:l.table},e.createElement("thead",null,e.createElement("tr",{className:l.tableHeader},e.createElement("th",{style:{textAlign:"left"},className:l.tableCellHead},"Category"),e.createElement("th",{style:{textAlign:"right"},className:l.tableCellHead},"Sum"))),e.createElement("tbody",null,t.map((s,_)=>e.createElement("tr",{key:_,className:l.tableRow},e.createElement("td",{className:l.tableCell},e.createElement("div",{style:{display:"flex",alignItems:"center"}},e.createElement("div",{className:l.colorSquare,style:{marginRight:"16px",width:"24px",height:"24px",backgroundColor:n[s.name]}}),s.name)),e.createElement("td",{style:{textAlign:"right"},className:l.tableCell},s.total.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).replace("-",""))))))),e.createElement("div",{className:l.paragraphContainer},e.createElement("p",{className:l.paragraph},"Income:",e.createElement("span",{className:l.income},i)),e.createElement("p",{className:l.paragraph},"Expenses:",e.createElement("span",{className:l.expense},r.toString().replace("-","")))))},O="_chartWrapper_19c9e_1",z="_chartContainer_19c9e_9",G="_doughnut_19c9e_17",K="_periodText_19c9e_31",Q="_noStat_19c9e_47",u={chartWrapper:O,chartContainer:z,doughnut:G,periodText:K,noStat:Q},V=({transactions:t,colors:n,period:m})=>{if(!t.length||!n)return e.createElement("div",{className:u.noStat},"No data available");const o=m.toFixed(2),i={datasets:[{data:t==null?void 0:t.map(r=>r.total),backgroundColor:t==null?void 0:t.map(r=>n[r.name]),hoverBackgroundColor:t==null?void 0:t.map(r=>n[r.name]),cutout:"75%",borderWidth:0,hoverOffset:1}]};return e.createElement("div",{className:u.chartContainer},e.createElement("div",{className:u.chartWrapper},e.createElement(S,{data:i,className:u.doughnut}),e.createElement("p",{className:u.periodText}," â‚´ ",o)))},X="_selectContainers_1ekq8_1",Z="_select_1ekq8_1",ee="_option_1ekq8_21",te={selectContainers:X,select:Z,option:ee};const ae=({onMonthChange:t,onYearChange:n})=>{const m=new Date,o=m.getFullYear(),[i,r]=p.useState(m.getMonth()+1),[s,_]=p.useState(o),C=a=>{r(a.value),t(a.value)},g=a=>{_(a.value),n(a.value)},E=Array.from({length:o-2019},(a,x)=>o-x).reverse(),d=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],c=E.map(a=>({value:a,label:a}));return e.createElement("div",{className:te.selectContainers},e.createElement(N,{className:"react_select_container_special",classNamePrefix:"react_select",value:d.find(a=>a.value===i),options:d,onChange:C}),e.createElement(N,{className:"react_select_container",classNamePrefix:"react_select",value:c.find(a=>a.value===s),options:c,onChange:g}))},le="_statisticsContainer_1l59x_1",ne="_contentContainer_1l59x_29",re="_title_1l59x_48",oe="_tableContainer_1l59x_56",b={statisticsContainer:le,contentContainer:ne,title:re,tableContainer:oe},me=()=>{const t=k(),n=h(f),m=h(y),o=h(w),i=h(R),r=h(D),s=h(M),[_,C]=p.useState({});p.useEffect(()=>{t(v({month:r,year:s}))},[r,s,t]);const g=()=>{const c={};n==null||n.forEach(({name:a,index:x})=>{c[a]=`#${Math.floor(Math.random()*16777215).toString(16)}`}),C(c)};p.useEffect(()=>{g()},[n]);const E=c=>{t(v({month:c,year:s}))},d=c=>{t(v({month:r,year:c}))};return e.createElement("section",{className:b.statisticsContainer},e.createElement("h2",{className:b.title},"Statistics"),e.createElement("div",{className:b.contentContainer},e.createElement(V,{transactions:n,period:i,colors:_}),e.createElement("div",{className:b.tableContainer},e.createElement(ae,{onMonthChange:E,onYearChange:d}),e.createElement(j,{transactionsSummary:n,colors:_,incomeSummary:m,expenseSummary:o}))))};export{me as default};
//# sourceMappingURL=StatisticsTab-bce52ef1.js.map
