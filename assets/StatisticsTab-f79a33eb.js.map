{"version":3,"file":"StatisticsTab-f79a33eb.js","sources":["../../src/pages/StatisticsTab/StatisticsDashboard/StatisticsDashboard.jsx","../../src/pages/StatisticsTab/StatisticsTable/StatisticsTable.jsx","../../src/pages/StatisticsTab/Chart/Chart.jsx","../../src/pages/StatisticsTab/StatisticsTab.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Select from 'react-select';\nimport s from './StatisticsDashboard.module.css';\nimport './select.css'\n\nconst StatisticsDashboard = ({ onMonthChange, onYearChange }) => {\n  const currentDate = new Date();\n  const currentYear = currentDate.getFullYear();\n  const [selectedMonth, setSelectedMonth] = useState(currentDate.getMonth() + 1);\n  const [selectedYear, setSelectedYear] = useState(currentYear);\n\n  const handleMonthChange = selectedOption => {\n    setSelectedMonth(selectedOption.value);\n    onMonthChange(selectedOption.value);\n  };\n\n  const handleYearChange = selectedOption => {\n    setSelectedYear(selectedOption.value);\n    onYearChange(selectedOption.value);\n  };\n\n  const years = Array.from({ length: currentYear - 2019 }, (_, i) => currentYear - i).reverse();\n  const months = [\n    { value: 1, label: 'January' },\n    { value: 2, label: 'February' },\n    { value: 3, label: 'March' },\n    { value: 4, label: 'April' },\n    { value: 5, label: 'May' },\n    { value: 6, label: 'June' },\n    { value: 7, label: 'July' },\n    { value: 8, label: 'August' },\n    { value: 9, label: 'September' },\n    { value: 10, label: 'October' },\n    { value: 11, label: 'November' },\n    { value: 12, label: 'December' }\n  ];\n\n  const yearOptions = years.map(year => ({ value: year, label: year }));\n\n  return (\n    <div className={s.selectContainers}>\n      <Select\n  className=\"react_select_container_special\"\n  classNamePrefix=\"react_select\"\n  value={months.find(month => month.value === selectedMonth)}\n  options={months}\n  onChange={handleMonthChange}\n/>\n      <Select\n        className= 'react_select_container'\n        classNamePrefix= 'react_select'\n        value={yearOptions.find(option => option.value === selectedYear)}\n        options={yearOptions}\n        onChange={handleYearChange}\n      />\n    </div>\n  );\n};\n\nexport default StatisticsDashboard;\n","import React from 'react';\nimport s from './StatisticsTable.module.css';\n\nconst StatisticsTable = ({ transactionsSummary, colors, incomeSummary, expenseSummary }) => {\n  \n  return (\n    <div className={s.tableParagraphContainer}>\n      <div className={s.tableContainer}>\n        <table className={s.table}>\n          <thead>\n            <tr className={s.tableHeader}>\n              <th style={{ textAlign: 'left' }} className={s.tableCellHead}>Category</th>\n              <th style={{ textAlign: 'right' }} className={s.tableCellHead}>Sum</th>\n            </tr>\n          </thead>\n          <tbody>\n            {transactionsSummary.map((category, index) => (\n              <tr key={index} className={s.tableRow}>\n                <td className={s.tableCell}>\n                  <div style={{ display: 'flex', alignItems: 'center' }}>\n                    <div className={s.colorSquare} style={{ marginRight: '16px', width: '24px', height: '24px', backgroundColor: colors[category.name] }}></div>\n                    {category.name}\n                  </div>\n                </td>\n                <td style={{ textAlign: 'right' }} className={s.tableCell}>{category.total.toString().replace('-', '')}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      <div className={s.paragraphContainer}>\n         <p className={s.paragraph}>Income:\n          <span className={s.income}>{incomeSummary}</span></p>\n        <p className={s.paragraph}>Expenses:\n          <span className={s.expense}>{expenseSummary.toString().replace('-', '')}</span></p>\n      </div>\n    </div>\n  );\n};\n\nexport default StatisticsTable;\n","// Chart.jsx\nimport React from 'react';\nimport { Doughnut } from 'react-chartjs-2';\nimport s from './Chart.module.css';\nimport Chart from 'chart.js/auto';\n\nconst DoughnutChart = ({ transactions, colors, period }) => {\n  if (!transactions || !colors) {\n    return <div>No data available</div>;\n  }\n\n  const formattedPeriod = period.toFixed(2);\n\n  const data = {\n    datasets: [\n      {\n        data: transactions?.map(transaction => transaction.total),\n        backgroundColor: transactions?.map(\n          transaction => colors[transaction.name]\n        ),\n        hoverBackgroundColor: transactions?.map(\n          transaction => colors[transaction.name]\n        ),\n        cutout: '75%',\n        borderWidth: 0,\n        hoverOffset: 1\n      },\n    ],\n  };\n\n  return (\n    <div className={s.chartContainer}>\n      <div className={s.chartWrapper}>\n        <Doughnut data={data} className={s.doughnut}/>\n        <p className={s.periodText}> â‚´ {formattedPeriod}</p> \n      </div>\n    </div>\n  );\n};\n\nexport default DoughnutChart;\n","// StatisticsTab.jsx\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport StatisticsDashboard from './StatisticsDashboard/StatisticsDashboard';\nimport { fetchTransactionSummaryControllerThunk } from '../../redux/transactions/operations';\nimport {\n  selectCategoriesSummary,\n  selectExpenseSummary,\n  selectIncomeSummary,\n  selectPeriodTotal,\n  selectMonth,\n  selectYear\n} from '../../redux/transactions/transactionsSlice';\nimport s from './StatisticsTab.module.css';\nimport StatisticsTable from './StatisticsTable/StatisticsTable';\nimport DoughnutChart from './Chart/Chart';\n\nconst StatisticsTab = () => {\n  const dispatch = useDispatch();\n  const transactionsSummaryList = useSelector(selectCategoriesSummary);\n  const incomeTotal = useSelector(selectIncomeSummary);\n  const expenceTotal = useSelector(selectExpenseSummary);\n  const periodTotal = useSelector(selectPeriodTotal);\n  const selectedMonth = useSelector(selectMonth);\n  const selectedYear = useSelector(selectYear);\n\n  const [colors, setColors] = useState({});\n\n  useEffect(() => {\n    dispatch(\n      fetchTransactionSummaryControllerThunk({\n        month: selectedMonth,\n        year: selectedYear,\n      })\n    );\n  }, [selectedMonth, selectedYear, dispatch]);\n\n  const generateColors = () => {\n    const generatedColors = {};\n    transactionsSummaryList?.forEach(({ name, index }) => {\n      generatedColors[name] = `#${Math.floor(Math.random() * 16777215).toString(\n        16\n      )}`;\n    });\n    setColors(generatedColors);\n  };\n  useEffect(() => {\n    generateColors();\n  }, [transactionsSummaryList]);\n\n  const handleMonthChange = month => {\n    dispatch(fetchTransactionSummaryControllerThunk({ month, year: selectedYear }));\n  };\n\n  const handleYearChange = year => {\n    dispatch(fetchTransactionSummaryControllerThunk({ month: selectedMonth, year }));\n  };\n\n  return (\n    <section className={s.statisticsContainer}>\n      <h2 className={s.title}>Statistics</h2>\n\n      <div className={s.contentContainer}>\n        <DoughnutChart\n          transactions={transactionsSummaryList}\n          period={periodTotal}\n          colors={colors}\n        />\n\n        <div className={s.tableContainer}>\n          <StatisticsDashboard\n            onMonthChange={handleMonthChange}\n            onYearChange={handleYearChange}\n          />\n          <StatisticsTable\n            transactionsSummary={transactionsSummaryList}\n            colors={colors}\n            incomeSummary={incomeTotal}\n            expenseSummary={expenceTotal}\n          />\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default StatisticsTab;\n"],"names":["StatisticsDashboard","onMonthChange","onYearChange","currentDate","currentYear","selectedMonth","setSelectedMonth","useState","selectedYear","setSelectedYear","handleMonthChange","selectedOption","handleYearChange","years","_","i","months","yearOptions","year","React","s","Select","month","option","StatisticsTable","transactionsSummary","colors","incomeSummary","expenseSummary","category","index","DoughnutChart","transactions","period","formattedPeriod","data","transaction","Doughnut","StatisticsTab","dispatch","useDispatch","transactionsSummaryList","useSelector","selectCategoriesSummary","incomeTotal","selectIncomeSummary","expenceTotal","selectExpenseSummary","periodTotal","selectPeriodTotal","selectMonth","selectYear","setColors","useEffect","fetchTransactionSummaryControllerThunk","generateColors","generatedColors","name"],"mappings":"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"}