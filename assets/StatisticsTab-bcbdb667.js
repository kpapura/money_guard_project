import{r as u,R as e,S as N,T as S,d as f,g as m}from"./vendor-336df391.js";import{i as y,j,k as M,m as R,n as T,o as H,p as E}from"../commonHelpers2.js";const k="_selectContainers_171at_2",Y="_select_171at_2",P="_option_171at_22",D={selectContainers:k,select:Y,option:P};const $=({onMonthChange:t,onYearChange:n})=>{const i=new Date,s=i.getFullYear(),[o,r]=u.useState(i.getMonth()+1),[d,h]=u.useState(s),C=a=>{r(a.value),t(a.value)},g=a=>{h(a.value),n(a.value)},v=Array.from({length:s-2019},(a,x)=>s-x).reverse(),_=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],c=v.map(a=>({value:a,label:a}));return e.createElement("div",{className:D.selectContainers},e.createElement(N,{className:"react_select_container_special",classNamePrefix:"react_select",value:_.find(a=>a.value===o),options:_,onChange:C}),e.createElement(N,{className:"react_select_container",classNamePrefix:"react_select",value:c.find(a=>a.value===d),options:c,onChange:g}))},w="_statisticsContainer_1xdk1_1",A="_contentContainer_1xdk1_27",W="_title_1xdk1_46",B="_tableContainer_1xdk1_54",b={statisticsContainer:w,contentContainer:A,title:W,tableContainer:B},F="_tableParagraphContainer_1udvj_1",I="_tableContainer_1udvj_26",J="_table_1udvj_1",q="_tableHeader_1udvj_58",O="_tableCellBox_1udvj_73",z="_tableCell_1udvj_73",G="_tableHeadCell_1udvj_88",K="_tableHeadCellRight_1udvj_95",Q="_tableCellRight_1udvj_102",U="_tableRow_1udvj_111",V="_paragraphContainer_1udvj_120",X="_paragraph_1udvj_120",Z="_income_1udvj_141",L="_expense_1udvj_144",l={tableParagraphContainer:F,tableContainer:I,table:J,tableHeader:q,tableCellBox:O,tableCell:z,tableHeadCell:G,tableHeadCellRight:K,tableCellRight:Q,tableRow:U,paragraphContainer:V,paragraph:X,income:Z,expense:L},ee=({transactionsSummary:t,colors:n,incomeSummary:i,expenseSummary:s})=>e.createElement("div",{className:l.tableParagraphContainer},e.createElement("div",{className:l.tableContainer},e.createElement("table",{className:l.table},e.createElement("thead",null,e.createElement("tr",{className:l.tableHeader},e.createElement("th",{style:{textAlign:"left"},className:l.tableCellHead},"Category"),e.createElement("th",{style:{textAlign:"right"},className:l.tableCellHead},"Sum"))),e.createElement("tbody",null,t.map((o,r)=>e.createElement("tr",{key:r,className:l.tableRow},e.createElement("td",{className:l.tableCell},e.createElement("div",{style:{display:"flex",alignItems:"center"}},e.createElement("div",{className:l.colorSquare,style:{marginRight:"16px",width:"24px",height:"24px",backgroundColor:n[o.name]}}),o.name)),e.createElement("td",{style:{textAlign:"right"},className:l.tableCell},o.total.toString().replace("-",""))))))),e.createElement("div",{className:l.paragraphContainer},e.createElement("p",{className:l.paragraph},"Income:",e.createElement("span",{className:l.income},i)),e.createElement("p",{className:l.paragraph},"Expenses:",e.createElement("span",{className:l.expense},s.toString().replace("-",""))))),te="_chartWrapper_15hb6_1",ae="_chartContainer_15hb6_9",le="_doughnut_15hb6_17",ne="_periodText_15hb6_31",p={chartWrapper:te,chartContainer:ae,doughnut:le,periodText:ne},re=({transactions:t,colors:n,period:i})=>{if(!t||!n)return e.createElement("div",null,"No data available");const s=i.toFixed(2),o={datasets:[{data:t==null?void 0:t.map(r=>r.total),backgroundColor:t==null?void 0:t.map(r=>n[r.name]),hoverBackgroundColor:t==null?void 0:t.map(r=>n[r.name]),cutout:"75%",borderWidth:0,hoverOffset:1}]};return e.createElement("div",{className:p.chartContainer},e.createElement("div",{className:p.chartWrapper},e.createElement(S,{data:o,className:p.doughnut}),e.createElement("p",{className:p.periodText}," â‚´ ",s)))},ce=()=>{const t=f(),n=m(y),i=m(j),s=m(M),o=m(R),r=m(T),d=m(H),[h,C]=u.useState({});u.useEffect(()=>{t(E({month:r,year:d}))},[r,d,t]);const g=()=>{const c={};n==null||n.forEach(({name:a,index:x})=>{c[a]=`#${Math.floor(Math.random()*16777215).toString(16)}`}),C(c)};u.useEffect(()=>{g()},[n]);const v=c=>{t(E({month:c,year:d}))},_=c=>{t(E({month:r,year:c}))};return e.createElement("section",{className:b.statisticsContainer},e.createElement("h2",{className:b.title},"Statistics"),e.createElement("div",{className:b.contentContainer},e.createElement(re,{transactions:n,period:o,colors:h}),e.createElement("div",{className:b.tableContainer},e.createElement($,{onMonthChange:v,onYearChange:_}),e.createElement(ee,{transactionsSummary:n,colors:h,incomeSummary:i,expenseSummary:s}))))};export{ce as default};
//# sourceMappingURL=StatisticsTab-bcbdb667.js.map
